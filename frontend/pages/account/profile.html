<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>アカウント情報</title>

    <link rel="stylesheet" href="/assets/css/main.css" />

    <link rel="icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  </head>

  <body>
    <div id="app-header"></div>
    <div class="top-bar">
      <p>今だけ！全品送料無料キャンペーン中 🎉</p>
    </div>

    <header class="header">
      <div class="header-inner">
        <div class="logo">
          <button class="hamburger-btn" data-action="toggle-categories-popup" aria-label="Open categories">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </button>

          <div class="categories-popup" id="categoriesPopup">
            <div class="popup">
              <header class="header-popup">
                <img class="header-popup__img" src="/assets/images/logoshop.png" />
                <button class="btn-close" type="button" aria-label="Close" data-action="close-popup-categories">
                  <svg viewBox="0 0 24 24" width="35" height="35" aria-hidden="true">
                    <path d="M6 6L18 18M18 6L6 18" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                  </svg>
                </button>
              </header>
              <main class="main-popup" id="categoriesItem"></main>
              <div class="divider"></div>
              <footer>
                <a class="category-item" href="/pages/auth/register.html">
                  <span class="category-item__name">新規登録</span>
                  <span class="category-item__arrow">
                    <svg viewBox="0 0 24 24" width="35" height="35" aria-hidden="true">
                      <path
                        d="M9.5 6.5L15 12L9.5 17.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </span>
                </a>
                <a class="category-item" href="/pages/account/profile.html">
                  <span class="category-item__name">アカウント</span>
                  <span class="category-item__arrow">
                    <svg viewBox="0 0 24 24" width="35" height="35" aria-hidden="true">
                      <path
                        d="M9.5 6.5L15 12L9.5 17.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </span>
                </a>
                <a class="category-item" href="/pages/account/orders.html" class="category-item">
                  <span class="category-item__name">注文検索</span>
                  <span class="category-item__arrow">
                    <svg viewBox="0 0 24 24" width="35" height="35" aria-hidden="true">
                      <path
                        d="M9.5 6.5L15 12L9.5 17.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </span>
                </a>
              </footer>
            </div>
          </div>

          <a href="/index.html">
            <img class="logo_img" src="/assets/images/logoshop.png" alt="roll shop" />
          </a>
        </div>
        <!-- Categories 表示するところ -->
        <section class="categories-list" id="categoriesList"></section>

        <nav class="header-actions">
          <button class="header-actions__search-btn" data-action="open-search-box">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
          </button>
          <a href="/pages/cart/cart.html" class="cart-btn">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.6"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M4 6h2" />
              <path d="M7 6h11l-1.2 7H8.2L7 6z" />
              <circle cx="10" cy="18.5" r="1.3" />
              <circle cx="17" cy="18.5" r="1.3" />
            </svg>
            <span class="cart-badge" id="cartBadge">0</span>
          </a>
          <div class="right-header">
            <button class="user-menu" data-action="toggle-menu">
              <img src="/assets/images/default/image.png" class="user-avatar" />
              <span class="user-name" id="toastLogin">ログイン</span>
            </button>
            <div id="menuList" class="menu-list">
              <a class="popup-menu" href="/pages/account/orders.html">注文履歴</a>
              <a class="popup-menu" href="/pages/account/profile.html">アカウント</a>
              <a class="popup-menu" href="/pages/auth/login.html">ログイン</a>

              <div class="cart-summary__divider"></div>
              <button class="btn-text popup-menu" data-action="logout">ログアウト</button>
            </div>
          </div>
        </nav>
      </div>
      <!-- search box -->
      <div class="search-product" id="searchBox">
        <form class="header-search" id="searchForm">
          <div class="header-search__box">
            <input class="header-search__input" id="searchInput" type="text" placeholder="検索..." autocomplete="off" a />
          </div>
          <button class="search-btn" type="submit">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
          </button>
        </form>
        <ul class="suggestions" id="suggestList"></ul>
      </div>
    </header>

    <main class="container profile-page" id="profilePage">
      <header class="profile-page__header">
        <div class="profile-page__title-wrap">
          <h1 class="profile-page__title">アカウント情報</h1>
          <p class="profile-page__desc">お客様情報の確認・変更ができます。</p>
        </div>

        <div class="profile-page__actions">
          <button class="btn btn--primary profile-page__btn" type="button" data-action="toggle-edit">編集</button>
        </div>
      </header>

      <section class="profile-card" aria-label="プロフィール">
        <!-- loading -->
        <div class="profile-state profile-state--loading hidden" id="profileLoading">
          <div class="profile-spinner" aria-hidden="true"></div>
          <p class="profile-state__text">読み込み中...</p>
        </div>

        <!-- error -->
        <div class="profile-state profile-state--error hidden" id="profileError">
          <p class="profile-state__text" id="profileErrorText">エラーが発生しました。</p>
          <button class="btn btn--primary" type="button" data-action="reload-profile">再試行</button>
        </div>

        <!-- view mode -->
        <div class="profile-view" id="profileView">
          <div class="profile-view__row">
            <div class="profile-view__item">
              <span class="profile-view__label">氏名</span>
              <span class="profile-view__value" id="profileName">-</span>
            </div>
            <div class="profile-view__item">
              <span class="profile-view__label">メール</span>
              <span class="profile-view__value" id="profileEmail">-</span>
            </div>
          </div>

          <div class="profile-view__row">
            <div class="profile-view__item">
              <span class="profile-view__label">電話番号</span>
              <span class="profile-view__value" id="profilePhone">-</span>
            </div>
            <div class="profile-view__item">
              <span class="profile-view__label">生年月日</span>
              <span class="profile-view__value" id="profileDob">-</span>
            </div>
          </div>

          <div class="profile-view__row">
            <div class="profile-view__item profile-view__item--full">
              <span class="profile-view__label">メモ</span>
              <span class="profile-view__value" id="profileNote">-</span>
            </div>
          </div>

          <div class="profile-view__hint">
            <button class="btn-text" type="button" data-action="toggle-edit">情報を編集する</button>
          </div>
        </div>

        <!-- edit mode -->
        <form class="profile-form hidden" id="profileForm" autocomplete="off">
          <div class="profile-form__grid">
            <div class="profile-form__field">
              <label class="profile-form__label" for="nameInput">氏名</label>
              <input class="form-input profile-form__input" id="nameInput" name="name" type="text" placeholder="例）山田 太郎" />
            </div>

            <div class="profile-form__field">
              <label class="profile-form__label" for="emailInput">メール</label>
              <input class="form-input profile-form__input" id="emailInput" name="email" type="email" placeholder="例）taro@example.com" />
            </div>

            <div class="profile-form__field">
              <label class="profile-form__label" for="phoneInput">電話番号</label>
              <input class="form-input profile-form__input" id="phoneInput" name="phone" type="tel" placeholder="例）09012345678" />
            </div>

            <div class="profile-form__field">
              <label class="profile-form__label" for="dobInput">生年月日</label>
              <input class="form-input profile-form__input" id="dobInput" name="dob" type="date" />
            </div>

            <div class="profile-form__field profile-form__field--full">
              <label class="profile-form__label" for="noteInput">メモ</label>
              <input class="form-input profile-form__input" id="noteInput" name="note" type="text" placeholder="配送の注意事項など" />
            </div>
          </div>

          <div class="profile-form__footer">
            <button class="btn btn--primary" type="submit" data-action="save-profile">保存</button>
            <button class="btn-text" type="button" data-action="cancel-edit">キャンセル</button>
          </div>

          <p class="profile-form__msg hidden" id="profileMsg" role="status"></p>
        </form>
      </section>
    </main>

    <footer class="main-footer" id="app-footer"></footer>

    <script type="module" src="/assets/js/core/render/load-layout.js"></script>
    <script type="module" src="/assets/js/components/header-search.js"></script>
    <script type="module" src="/assets/js/pages/profile.js"></script>
  </body>
</html>
